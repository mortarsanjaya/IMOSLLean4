Let $n \geq 99$ be an integer.
The non-negative integers are coloured using two colours.
Prove that there exists $a, b \in \N$ of the same colour such that $n \leq a < b \leq 2n$ and $a + b$ is a square.



\subsection*{Solution}

Official solution: \url{https://www.imo-official.org/problems/IMO2021SL.pdf}

We follow the official solution.

It suffices to show that there exists $a, b, c \in \N$ such that $n \leq a < b < c \leq 2n$ and $a + b$, $a + c$, and $b + c$ are all perfect squares.
We take the perfect squares to be of form $(2k + 1)^2$, $(2k + 2)^2$, and $(2k + 3)^2$, respectively.
By algebraic manipulation, this means $(a, b, c) = (2k^2 - 2, 2(k + 1)^2 + 1, 2(k + 2)^2 - 2)$.
Thus, it suffices to find $k \in \N$ such that
\[ n + 2 \leq 2k^2 \text{ and } (k + 2)^2 \leq n + 1. \]

We proceed by induction on $n$.
For the base case $n = 99$, $k = 8$ works.
Now fix some $n \geq 99$ and suppose that there exists $k \in \N$ such that $n + 2 \leq 2k^2$ and $(k + 2)^2 \leq n + 1$.
If $n + 3 \leq 2k^2$, then the same $k$ works.
Otherwise, if $n = 2k^2 - 2$, then it is natural to pick $k + 1$ for $n + 1$.
We only need to prove that $(k + 3)^2 \leq 2k^2 - 1$.
Indeed, since $n \geq 99$, we know that $k \geq 8$.
Then $(k + 3)^2 \leq 2k^2 - 1 \iff k^2 - 6k - 10 \geq 0$, which indeed holds for $k \geq 8$.



\subsection*{Extra notes}

In graph theoretic language, we have a graph whose vertices are integers from $n$ to $2n$, inclusive.
Two vertices are adjacent if their sum is a perfect square.
The goal is to show that the graph is not bipartite.
The solution goes simply by proving that the graph contains a triangle.

In the comment section of the official solution, it is mentioned that $n = 98$ does not work.
Thus, the bound $n \geq 99$ is sharp.

In our implementation, the squares will be $(2k + 3)^2$, $(2k + 4)^2$, and $(2k + 5)^2$ instead.
The same solution works, but one has to replace $k$ with $k + 1$ all over the place.

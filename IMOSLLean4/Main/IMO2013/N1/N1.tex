Find all functions $f : \N^+ \to \N^+$ such that, for any $m, n \in \N^+$,
\[ m^2 + f(n) \mid m f(m) + n. \tag{*}\label{2013n1-eq0} \]



\subsection*{Answer}

The identity map.



\subsection*{Solution}

Official solution: \url{https://www.imo-official.org/problems/IMO2013SL.pdf}

We use Solution 2 to get $f(n) \leq n$ and Solution 1 to get $n \leq f(n)$.
Fix some $n \in \N^+$.

First, plugging $m = f(n)$ into~\eqref{2013n1-eq0} tells us that $f(n)^2 + f(n) \mid f(n) f(f(n)) + n$.
Since $f(n) \mid f(n)^2 + f(n)$, we get $f(n) \mid n$ and thus $f(n) \leq n$.

Second, we show that $n \leq f(n)$.
This is trivial if $n = 1$, so now assume that $n > 1$.
Plugging $m = n$ into~\eqref{2013n1-eq0} tells us that
\[ n^2 + f(n) \mid n f(n) + n \implies n^2 + f(n) \leq n f(n) + n \implies n(n - 1) \leq f(n) (n - 1). \]
This gives us $f(n) \leq n$ since $n > 1$ implies $n - 1 > 0$.
